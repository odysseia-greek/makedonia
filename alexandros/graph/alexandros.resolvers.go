package graph

// This file will be automatically regenerated based on the schema, any resolver implementations
// will be copied through when generating and any unknown code will be moved to the end.
// Code generated by github.com/99designs/gqlgen version v0.17.73

import (
	"context"

	"github.com/odysseia-greek/agora/plato/config"
	"github.com/odysseia-greek/makedonia/alexandros/graph/model"
	koinos "github.com/odysseia-greek/makedonia/filippos/gen/go/koinos/v1"
)

// Health is the resolver for the health field.
func (r *queryResolver) Health(ctx context.Context) (*model.AggregatedHealthResponse, error) {
	requestID, _ := ctx.Value(config.HeaderKey).(string)
	sessionId, _ := ctx.Value(config.SessionIdKey).(string)
	return r.Handler.Health(requestID, sessionId)
}

// Fuzzy is the resolver for the fuzzy field.
func (r *queryResolver) Fuzzy(ctx context.Context, input model.SearchQueryInput) (*model.SearchResponse, error) {
	requestID, _ := ctx.Value(config.HeaderKey).(string)
	sessionId, _ := ctx.Value(config.SessionIdKey).(string)

	var language koinos.Language
	switch *input.Language {
	case model.LanguageLangGreek:
		language = koinos.Language_LANG_GREEK
	case model.LanguageLangEnglish:
		language = koinos.Language_LANG_ENGLISH
	case model.LanguageLangDutch:
		language = koinos.Language_LANG_DUTCH
	default:
		language = koinos.Language_LANG_GREEK
	}
	
	request := &koinos.SearchQuery{
		Word:     input.Word,
		Language: language,
	}
	return r.Handler.Fuzzy(request, requestID, sessionId)
}

// Query returns QueryResolver implementation.
func (r *Resolver) Query() QueryResolver { return &queryResolver{r} }

type queryResolver struct{ *Resolver }

// !!! WARNING !!!
// The code below was going to be deleted when updating resolvers. It has been copied here so you have
// one last chance to move it out of harms way if you want. There are two reasons this happens:
//  - When renaming or deleting a resolver the old code will be put in here. You can safely delete
//    it when you're done.
//  - You have helper methods in this file. Move them out to keep these resolver files clean.
/*
	func (r *queryResolver) Search(ctx context.Context, query model.SearchQueryInput) (*model.SearchResponse, error) {
	panic(fmt.Errorf("not implemented: Search - search"))
}
*/
